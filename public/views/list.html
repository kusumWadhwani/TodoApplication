<div ng-controller="todoCtrl as todo" class="content">
    <nav class="navbar navbar-default navbar-fixed-top">
	    <div class="conatiner-fluid">
            <div class="navbar-header">
      	        <a class="navbar-brand" href="#">todo</a>
            </div>
      	    <form class="navbar-form navbar-center">
  		        <div class="input-group">
    		        <input type="text" class="form-control" placeholder="Search">
    		            <div class="input-group-btn">
      			            <button class="btn btn-default" type="submit">
        		            <i class="glyphicon glyphicon-search"></i>
      			            </button>
    		            </div>
  		        </div>
            </form>
            <div class="btn-group nav navbar-nav navbar-right" uib-dropdown is-open="status.isopen">
                <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled"><img src="{{todo.user.photoURL}}" id="profilePhoto"> Hey, {{todo.user.displayName}} <span class="caret"></span></button>
                <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
                    <li role="menuitem"><span ng-click="todo.signOut()"><a href="#">Sign Out</a></span></li>
                </ul>
            </div>
  	    </div>
    </nav>
     <div class="heading">
        <h1>{{todo.name}}</h1>
    </div>
    <div class="row">
        <div class="col-xs-7">
            <input class="form-control" ng-model="todo.task" type="text"/>
        </div>
        <div class="col-xs-5">
            <button class="btn btn-block btn-default btn-lg" ng-if="!todo.editMode" ng-click="todo.task && todo.addTask()"><span class="glyphicon glyphicon-plus"></span> Add Task</button>
            <button class="btn btn-block btn-primary btn-lg" ng-if="todo.editMode" ng-click="todo.task && todo.updateTask()"><span class="glyphicon glyphicon-floppy-saved"></span> Update Task</button>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-offset-4 col-xs-4">
            <h5>{{todo.count}}/{{todo.tasks.length}} tasks completed</h5>
        </div>
    </div>
    <div class="row">
        <ul class="list-group">
            <li class="list-group-item" ng-class="{'list-group-item-success':task.status, 'list-group-item-primary':!task.status}" ng-repeat="task in todo.tasks track by $index">
                <div class="row">
                    <!--<div class="col-xs-6"><button class="btn btn-xs"><span ng-class="{'glyphicon glyphicon-hourglass':!task.status, 'glyphicon glyphicon-ok-sign':task.status}"></span></button>-->
                    <div class="col-xs-8 row">
                        <div class="col-xs-2">
                            <button class="btn" ng-class="{'btn-warning':!task.status, 'btn-success':task.status}" ng-click="todo.setStatus(task.id)"><span ng-class="{'glyphicon glyphicon-unchecked':!task.status, 'glyphicon glyphicon-check':task.status}"></span></button>
                        </div>
                        <div class="col-xs-10">
                              {{task.title}}
                        </div>
                    </div>
                    <div class="col-xs-4 row">
                        <div class="col-xs-3 nopadding">
                            <button class="btn" ng-click="todo.moveUp(task.id)"><span class="glyphicon glyphicon-chevron-up"></span></button>
                        </div>
                        <div class="col-xs-3 nopadding">
                            <button class="btn" ng-click="todo.moveDown(task.id)"><span class="glyphicon glyphicon-chevron-down"></span></button>
                        </div>
                        <!--<div class="col-xs-2 nopadding">
                            <button class="btn btn-block" ng-class="{'btn-warning':!task.status, 'btn-success':task.status}" ng-click="todo.setStatus(task.id)"><span class="glyphicon glyphicon-ok"></span></button>
                        </div>                          -->
                        <div class="col-xs-3 nopadding">
                            <button class="btn btn-info" ng-click="todo.editTask(task.id)"><span class="glyphicon glyphicon-pencil"></span></button>
                        </div>
                        <div class="col-xs-3 nopadding">
                            <button class="btn btn-danger" ng-click="todo.deleteTask(task.id)"><span class="glyphicon glyphicon-remove"></span></button>
                        </div>                                  
                    </div>
                    
                </div>
            </li>
        </ul>
    </div>
</div>